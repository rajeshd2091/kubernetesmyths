"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[483],{1573:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"k8s-core-myths/pod-and-container-myths/Kubernetes_Has_Only_One_Pod_Type","title":"Myth: Kubernetes Has Only One Pod Type","description":"I\u2019ve heard this many times in interviews:","source":"@site/docs/k8s-core-myths/pod-and-container-myths/Kubernetes_Has_Only_One_Pod_Type.md","sourceDirName":"k8s-core-myths/pod-and-container-myths","slug":"/k8s-core-myths/pod-and-container-myths/Kubernetes_Has_Only_One_Pod_Type","permalink":"/k8s-core-myths/pod-and-container-myths/Kubernetes_Has_Only_One_Pod_Type","draft":false,"unlisted":false,"editUrl":"https://github.com/kubernetes-myths/website/blob/main/docs/k8s-core-myths/pod-and-container-myths/Kubernetes_Has_Only_One_Pod_Type.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"k8sCoreMythsSidebar","previous":{"title":"Pod and Container Myths","permalink":"/category/pod-and-container-myths"},"next":{"title":"Myth: Pods Don\u2019t Consume Compute Resources Because They Are Logical","permalink":"/k8s-core-myths/pod-and-container-myths/Pods_Don\u2019t_Consume_Compute_Resources_Because_They_Are_Logical"}}');var t=s(4848),i=s(8453);const l={sidebar_position:2},d="Myth: Kubernetes Has Only One Pod Type",o={},c=[{value:"Why This Myth Exists?",id:"why-this-myth-exists",level:3},{value:"The Reality:",id:"the-reality",level:3},{value:"Experiment &amp; Validate",id:"experiment--validate",level:3},{value:"Key Takeaways",id:"key-takeaways",level:3}];function a(e){const n={code:"code",em:"em",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"myth-kubernetes-has-only-one-pod-type",children:"Myth: Kubernetes Has Only One Pod Type"})}),"\n",(0,t.jsx)(n.p,{children:"I\u2019ve heard this many times in interviews:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"\u201cA Pod is the smallest deployable unit in Kubernetes. There is only one Pod type.\u201d"})}),"\n",(0,t.jsx)(n.p,{children:"The answer usually stops there."}),"\n",(0,t.jsx)(n.p,{children:"This sounds correct at a conceptual level, but it hides an important internal distinction that becomes critical when debugging control plane issues, static workloads, or bootstrap failures."}),"\n",(0,t.jsx)(n.h3,{id:"why-this-myth-exists",children:"Why This Myth Exists?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Kubernetes documentation focuses on the Pod abstraction, not its origin"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"kubectl get pods"})," shows all Pods uniformly"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Most engineers only interact with ",(0,t.jsx)(n.em,{children:"API-created Pods"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Static and mirror Pods are rarely discussed outside cluster internals"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"From a user perspective, Pods look identical."}),"\n",(0,t.jsx)(n.p,{children:"Internally, they are not."}),"\n",(0,t.jsx)(n.h3,{id:"the-reality",children:"The Reality:"}),"\n",(0,t.jsxs)(n.p,{children:["Kubernetes has ",(0,t.jsx)(n.em,{children:"multiple Pod types based on creation mechanism and source of truth."})]}),"\n",(0,t.jsxs)(n.p,{children:["There are ",(0,t.jsx)(n.strong,{children:"three real Pod types"})," in Kubernetes:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"1. Regular Pods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Created via the ",(0,t.jsx)(n.strong,{children:"API Server"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Stored in ",(0,t.jsx)(n.strong,{children:"etcd"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Managed by controllers (Deployment, Job, DaemonSet, etc.)"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"API Server is the source of truth"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"2. Static Pods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Created directly by ",(0,t.jsx)(n.strong,{children:"the kubelet"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Defined as YAML files on a node"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["API Server is ",(0,t.jsx)(n.strong,{children:"not involved in creation"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"kubelet is the source of truth"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"3. Mirror Pods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Created by ",(0,t.jsx)(n.strong,{children:"the kubelet"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Exist only to represent static Pods in the API Server"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Read-only and immutable"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"kubelet remains the source of truth"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"experiment--validate",children:"Experiment & Validate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Step 1. Create a static pod on a node"})}),"\n",(0,t.jsx)(n.p,{children:"Run this command on the node where kubelet is running"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"mkdir -p /etc/kubernetes/manifests/\r\ncat <<EOF >/etc/kubernetes/manifests/static-web.yaml\r\napiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  name: static-web\r\n  labels:\r\n    role: myrole\r\nspec:\r\n  containers:\r\n    - name: web\r\n      image: nginx\r\n      ports:\r\n        - name: web\r\n          containerPort: 80\r\n          protocol: TCP\r\nEOF\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Step 2. Verify the Static Pod"})}),"\n",(0,t.jsx)(n.p,{children:"As Static pods are not directly visible to API server, we can not use kubectl commands"}),"\n",(0,t.jsx)(n.p,{children:"Run this command on the node where the kubelet is running"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"crictl ps\n"})}),"\n",(0,t.jsx)(n.p,{children:"The output might be something like:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"CONTAINER       IMAGE                                 CREATED           STATE      NAME    ATTEMPT    POD ID\r\n129fd7d382018   docker.io/library/nginx@sha256:...    11 minutes ago    Running    web     0          34533c6729106\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Setp 3. Verify the Mirror Pod"})}),"\n",(0,t.jsx)(n.p,{children:"You can see the mirror Pod on the API server:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"kubectl get pods\r\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"Output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"NAME                  READY   STATUS    RESTARTS        AGE\r\nstatic-web-my-node1   1/1     Running   0               2m\n"})}),"\n",(0,t.jsx)(n.p,{children:"Note the Node name add to actual Pod name, it confirm, its not actual Static Pod but a Mirror Pod"}),"\n",(0,t.jsx)(n.h3,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Kubernetes does not have a single Pod type"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Pod behavior depends on who creates it"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"API server and ETCD are not always the source of truth"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Static and mirror Pods explain many \u201cundeletable Pod\u201d mysteries"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Understanding Pod types is essential for cluster internals and debugging"}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var r=s(6540);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);