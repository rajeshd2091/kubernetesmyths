"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[317],{2658:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"k8s-core-myths/architecture-myths/Kubelet_is_Exclusive_to_Worker_Nodes","title":"Myth: Kubelet is Exclusive to Worker Nodes","description":"You SSH into a control plane node, expecting to see only control plane components like the API server, controller manager, and scheduler running. But wait\u2014why is Kubelet there? Wasn\'t it supposed to run only on worker nodes?","source":"@site/docs/k8s-core-myths/architecture-myths/Kubelet_is_Exclusive_to_Worker_Nodes.md","sourceDirName":"k8s-core-myths/architecture-myths","slug":"/k8s-core-myths/architecture-myths/Kubelet_is_Exclusive_to_Worker_Nodes","permalink":"/k8s-core-myths/architecture-myths/Kubelet_is_Exclusive_to_Worker_Nodes","draft":false,"unlisted":false,"editUrl":"https://github.com/kubernetes-myths/website/blob/main/docs/k8s-core-myths/architecture-myths/Kubelet_is_Exclusive_to_Worker_Nodes.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"k8sCoreMythsSidebar","previous":{"title":"Architecture Myths","permalink":"/category/architecture-myths"},"next":{"title":"Myth: Kubernetes Clusters Can\'t Function Without Kube-Proxy","permalink":"/k8s-core-myths/architecture-myths/Kubernetes_Clusters_Can\'t_Function_Without_Kube-Proxy"}}');var r=s(4848),o=s(8453);const i={sidebar_position:2},l="Myth: Kubelet is Exclusive to Worker Nodes",c={},a=[{value:"Why This Myth Exists?",id:"why-this-myth-exists",level:3},{value:"The Reality",id:"the-reality",level:3},{value:"Experiment &amp; Validate",id:"experiment--validate",level:3},{value:"Key Takeaways",id:"key-takeaways",level:3}];function d(e){const n={code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"myth-kubelet-is-exclusive-to-worker-nodes",children:"Myth: Kubelet is Exclusive to Worker Nodes"})}),"\n",(0,r.jsx)(n.p,{children:"You SSH into a control plane node, expecting to see only control plane components like the API server, controller manager, and scheduler running. But wait\u2014why is Kubelet there? Wasn't it supposed to run only on worker nodes?"}),"\n",(0,r.jsxs)(n.p,{children:["You double-check your understanding: worker nodes handle workloads, and Kubelet is responsible for managing pods on those nodes. Control plane nodes, on the other hand, orchestrate everything but don\u2019t run regular workloads. So, why does ",(0,r.jsx)(n.code,{children:"ps aux | grep kubelet"})," show Kubelet actively running on a control plane node?"]}),"\n",(0,r.jsx)(n.p,{children:"You start to wonder\u2014if control plane nodes aren\u2019t supposed to run application pods, does Kubelet even serve a purpose here?"}),"\n",(0,r.jsx)(n.h3,{id:"why-this-myth-exists",children:"Why This Myth Exists?"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Worker nodes are responsible for running workloads,"})," leading many to believe Kubelet is exclusive to them."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Control plane nodes don\u2019t schedule regular workloads,"})," making Kubelet\u2019s presence less noticeable."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Many tutorials and diagrams oversimplify"})," by associating Kubelet only with worker nodes."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"the-reality",children:"The Reality"}),"\n",(0,r.jsx)(n.p,{children:"Kubelet runs on all nodes in a typical Kubernetes cluster, including control plane nodes. However, its role differs:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"On worker nodes:"})," Kubelet registers the node and manages pod execution."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"On control plane nodes (when using static pods):"})," Kubelet ensures control plane components like the API server, scheduler, and controller manager run correctly."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Exception: Some Kubernetes distributions (e.g., certain air-gapped or enterprise setups) run control plane components as systemd services instead of static pods. In such cases, Kubelet may not be needed on control plane nodes. ",(0,r.jsx)(n.strong,{children:"However, this is uncommon in most Kubernetes distributions."})]}),"\n",(0,r.jsx)(n.h3,{id:"experiment--validate",children:"Experiment & Validate"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 1: Check Kubelet Running on Control Plane Nodes"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ssh <control-plane-node>\r\nps aux | grep kubelet\n"})}),"\n",(0,r.jsx)(n.p,{children:"If Kubelet is running, you\u2019ll see its process listed."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 2: Verify the Kubelet service status (For Most Kubernetes Setups)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ssh <control-plane-node>\r\nsystemctl status kubelet --no-pager\n"})}),"\n",(0,r.jsx)(n.p,{children:"If active, Kubelet is running on the control plane node."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 3: Confirm Kubelet's Role in Managing Static Pods"}),"\r\nSince Kubelet manages static pods on control plane nodes, you can check for static pod manifests:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ls /etc/kubernetes/manifests/\n"})}),"\n",(0,r.jsx)(n.p,{children:"If you see files like kube-apiserver.yaml and etcd.yaml, Kubelet is responsible for running control plane components as static pods."}),"\n",(0,r.jsx)(n.h3,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Kubelet runs on all worker nodes and is commonly present on control plane nodes."}),"\n",(0,r.jsx)(n.li,{children:"On worker nodes, Kubelet registers the node and manages workload execution."}),"\n",(0,r.jsx)(n.li,{children:"On control plane nodes, Kubelet typically manages static pods for core components unless systemd-based services are used."}),"\n",(0,r.jsx)(n.li,{children:"Understanding Kubelet\u2019s role is essential for troubleshooting and maintaining cluster stability."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var t=s(6540);const r={},o=t.createContext(r);function i(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);